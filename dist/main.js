(()=>{"use strict";function e(e){let t=function(e){let t=localStorage.getItem(e);return t=JSON.parse(t),t}(e);const n=document.querySelector(".todo-list");for(;n.firstChild;)n.removeChild(n.firstChild);t&&t.forEach((e=>{const t=document.createElement("div"),o=document.createElement("p"),d=document.createElement("p"),l=document.createElement("p"),c=document.createElement("p");o.textContent=e.title,d.textContent=e.description,l.textContent=e.dueDate,c.textContent=e.priority,t.classList.add("task"),t.append(o,d,l,c),n.appendChild(t)}))}let t={main:[]};const n=["title","description","due-date","priority","folder"];let o=["main"];function d(t,n){for(;t.firstChild;)t.removeChild(t.firstChild);o.forEach((o=>{const d=document.createElement("option");d.textContent=o,d.value=o,o===n&&(d.selected=!0,function(t){if(!document.querySelector("ul"))return;const n=document.querySelector(".currentFolder"),o=document.querySelector("ul"),d=document.createElement("li"),l=document.createElement("button");l.textContent=t,l.addEventListener("click",(()=>{e(l.textContent),o.style.display="none",n.textContent=l.textContent+" folder"})),d.appendChild(l),o.appendChild(d)}(n)),t.appendChild(d)}))}const l=document.getElementById("content");l.appendChild(function(){const e=document.createElement("div"),l=document.createElement("form");l.classList.add("form"),n.forEach((e=>{const t=document.createElement("label");let n,c;if(t.for=e,t.textContent=e.toUpperCase(),"folder"===e){n=document.createElement("select"),n.id=e,d(n,c="main");const l=document.createElement("button");l.type="button",l.textContent="+ new folder",t.appendChild(l),l.addEventListener("click",(()=>{o.push(prompt("What is the folder name?")),d(n,c=o[o.length-1])}))}else n=document.createElement("input"),n.id=e,n.type="text";l.append(t,n)}));const c=document.createElement("button");return c.type="button",c.textContent="SUBMIT",l.appendChild(c),c.addEventListener("click",(()=>{!function(){const e=document.getElementById("title"),n=document.getElementById("description"),o=document.getElementById("due-date"),d=document.getElementById("priority"),l=document.getElementById("folder"),c=document.querySelector(".todo-list");let r=((e,t,n,o,d)=>({title:e,description:t,dueDate:n,priority:o,folder:d}))(e.value,n.value,o.value,d.value,l.value);c.appendChild(function(e){var n,o;if(t[e.folder]||(t[e.folder]=[]),t[e.folder].push(e),n=e.folder,o=t,localStorage.setItem(n,JSON.stringify(o[n])),document.querySelector(".currentFolder").textContent.split(" ")[0].toLowerCase()===e.folder){const t=document.createElement("div"),n=document.createElement("p"),o=document.createElement("p"),d=document.createElement("p"),l=document.createElement("p");return n.textContent=e.title,o.textContent=e.description,d.textContent=e.dueDate,l.textContent=e.priority,t.classList.add("task"),t.append(n,o,d,l),t}return document.createElement("div")}(r))}(),l.reset()})),e.appendChild(l),e}()),l.appendChild(function(){const t=document.createElement("div");t.classList.add("display");const d=document.createElement("div");d.classList.add("task-header"),n.forEach((n=>{let l=document.createElement("p");"folder"===n?(l=document.createElement("button"),l.textContent="Main "+n.toUpperCase(),l.classList.add("currentFolder"),function(t,n){const d=document.createElement("ul");d.classList.add("folder-list"),o.forEach((t=>{const o=document.createElement("li"),l=document.createElement("button");l.addEventListener("click",(()=>{e(t),d.style.display="none",n.textContent=l.textContent+" folder"})),l.textContent=t,o.appendChild(l),d.appendChild(o)})),t.appendChild(d),d.style.display="none",n.addEventListener("mouseover",(()=>{d.style.display="block"}))}(t,l)):l.textContent=n.toUpperCase(),d.appendChild(l)}));const l=document.createElement("div");return l.classList.add("todo-list"),t.appendChild(d),t.appendChild(l),t}()),e("main")})();